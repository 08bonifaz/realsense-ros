<launch>
  <arg name="depth_width"       default="640" />
  <arg name="depth_height"      default="480" />
  <arg name="depth_fps"         value="30" />

  <arg name="infra1_width"       default="640" />
  <arg name="infra1_height"      default="480" />
  <arg name="infra1_fps"         value="30" />

  <arg name="infra2_width"       default="640" />
  <arg name="infra2_height"      default="480" />
  <arg name="infra2_fps"         value="30" />

  <arg name="fisheye_width"       default="640" />
  <arg name="fisheye_height"      default="480" />
  <arg name="fisheye_fps"         value="30" />

  <arg name="accel_fps"        value="1000" />
  <arg name="gyro_fps"         value="1000" />

  <!-- Start camera -->
  <include file="$(find realsense_ros_camera)/launch/camera.launch">
    <arg name="depth_width"       value="$(arg depth_width)" />
    <arg name="depth_height"      value="$(arg depth_height)" />
    <arg name="depth_fps"         value="$(arg depth_fps)" />
    <arg name="enable_depth"      value="true" />

    <arg name="infra1_width"       value="$(arg infra1_width)" />
    <arg name="infra1_height"      value="$(arg infra1_height)" />
    <arg name="infra1_fps"         value="$(arg infra1_fps)" />
    <arg name="enable_infra1"      value="true" />

    <arg name="infra2_width"       value="$(arg infra2_width)" />
    <arg name="infra2_height"      value="$(arg infra2_height)" />
    <arg name="infra2_fps"         value="$(arg infra2_fps)" />
    <arg name="enable_infra2"      value="true" />

    <arg name="fisheye_width"       value="$(arg fisheye_width)" />
    <arg name="fisheye_height"      value="$(arg fisheye_height)" />
    <arg name="fisheye_fps"         value="$(arg fisheye_fps)" />
    <arg name="enable_fisheye"      value="true" />

    <arg name="accel_fps"         value="$(arg accel_fps)" />
    <arg name="gyro_fps"          value="$(arg gyro_fps)" />
    <arg name="enable_imu"        value="true" />
  </include>
 
  <!-- Start test -->
  <test pkg="realsense_ros_camera" type="realsense_ros_tests_camera" test-name="realsense_camera_test"
    args="camera_type RS430_MM
    depth_width $(arg depth_width)
    depth_height $(arg depth_height)
    infra1_width $(arg infra1_width)
    infra1_height $(arg infra1_height)
    infra2_width $(arg infra2_width)
    infra2_height $(arg infra2_height)
    fisheye_width $(arg fisheye_width)
    fisheye_height $(arg fisheye_height)
    enable_depth true
    enable_infra1 true
    enable_infra2 true
    enable_fisheye true
    enable_imu true"
    retry="3" />
</launch>
